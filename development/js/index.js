var summerCollectionImagesNames = [
    '6395.1153.1156.JPG',
    '6395.45H.1177.JPG',
    '6411.216.1153.1181.JPG',
    '6411.39.12400.JPG',
    '6411.48.1178.JPG',
    '6417.1134.1177.JPG',
    '6417.19.1176.JPG',
    '6417.442.1150.JPG',
    '6448.1145.JPG',
    '6449.1026.JPG',
    '6449.1189.JPG',
    '6449.19.JPG',
    '6449.272.JPG',
    '6453.380.JPG',
    '6472.322.JPG',
    '6472.598.JPG',
    '6473.1156.JPG',
    '6473.1180.JPG',
    '6473.1201.JPG',
    '6473.1206.JPG',
    '6473.1211.JPG',
    '6473.40H.JPG',
    '6473.4BR.JPG',
    '6493.1155.JPG',
    '6494.12LB.JPG',
    '6496.1152.JPG',
    '6496.1154.JPG',
    '6496.1155.JPG',
    '6496.1180.JPG',
    '6509.1212.JPG',
    '6510.1151.JPG',
    '6526.81D.JPG',
    '6527.1026.JPG',
    '6527.1248.JPG',
    '6527.19.JPG',
    '6553.1210.JPG',
    '6553.217.JPG',
    '6554.1210.JPG',
    '6559.1245.JPG',
    '6567.535.JPG',
    '6569.1212.JPG',
    '6569.1219.JPG',
    '6569.217.JPG',
    '6570.1003.JPG',
    '6570.1180.JPG',
    '6570.216.JPG',
    '6570.39.JPG',
    '6570.40H.JPG',
    '6571.1180.JPG',
    '6571.40H.JPG',
    '6572.1212.JPG',
    '6572.1245.JPG',
    '6572.535.JPG',
    '6572.650.JPG',
    '6572.JPG',
    '6648.1267.JPG',
    '6649.1212.JPG',
    '6649.217.JPG',
    '6670.1419.272.JPG',
    '6671.1537.JPG',
    '6846.1156.JPG',
    '6980.1151.JPG',
    '7104.272.JPG',
    '7114.1153.JPG',
    '7116.1153.JPG',
    '7118.1151.JPG',
    '7118.1155.JPG',
    '7118.1531.JPG',
];
var winterCollectionImagesNames = [
    '6442.1186.JPG',
    '6443.199.JPG',
    '6444.272.JPG',
    '6453.1219.JPG',
    '6453.1220.JPG',
    '6453.1381.JPG',
    '6453.1452.JPG',
    '6453.1461.JPG',
    '6453.1468.JPG',
    '6459.281D.1230.JPG',
    '6460.272.1227.1225.JPG',
    '6489.1190.JPG',
    '6489.442.JPG',
    '6492.1196.JPG',
    '6492.19.JPG',
    '6499.4CE.JPG',
    '6503.39.1088.JPG',
    '6563.1214.285D.JPG',
    '6563.1225.1227.1276.JPG',
    '6563.1262.285D.JPG',
    '6563.1547.1558.JPG',
    '6563.1551.1563.JPG',
    '6564.1226.12225.12227.272.1232.JPG',
    '6565.1230.281D.1250.JPG',
    '6565.1250.1230.281D.JPG',
    '6565.1543.1566.1545.JPG',
    '6565.1551.260D.1544.JPG',
    '6566.6685.JPG',
    '6566.6690.JPG',
    '6567.39.JPG',
    '6567.442.JPG',
    '6656.12353.1376.JPG',
    '6656.1268.1377.JPG',
    '6656.1269.199.JPG',
    '6656.2CE.1376.JPG',
    '6670.1218.JPG',
    '6670.19.JPG',
    '6670.39.JPG',
    '6671.1218.JPG',
    '6671.1218.JPG',
    '6671.1381.JPG',
    '6671.1409.39.JPG',
    '6671.1409.39.JPG',
    '6671.1410.JPG',
    '6671.1416.JPG',
    '6671.1425.JPG',
    '6671.1425.JPG',
    '6671.1507.JPG',
    '6671.1509.JPG',
    '6671.1524.JPG',
    '6671.1525.JPG',
    '6671.1526.JPG',
    '6671.1600.JPG',
    '6671.19.JPG',
    '6671.380.JPG',
    '6671.39.JPG',
    '6671.484.JPG',
    '6671.B.JPG',
    '6671.BR.JPG',
    '6671.JPG',
    '6671.N.JPG',
    '6821.1384.331.JPG',
    '6822.1270.19.JPG',
    '6822.1441`.JPG',
    '6822.1443.404.JPG',
    '6823.1186.JPG',
    '6823.1336.JPG',
    '6831.1186.JPG',
    '6831.442.JPG',
    '6835.1336.JPG',
    '6836.39.JPG',
    '6841.1456.39.272.JPG',
    '6855.1442.39.272.JPG',
    '6855.19.1270.404.JPG',
    '6855.19.Z.JPG',
    '6861.1383.JPG',
    '6862.1186.JPG',
    '6862.1383.JPG',
    '6862.1446.JPG',
    '6862.1447.JPG',
    '6891.1215.30.1418.JPG',
    '6894.1186.JPG',
    '6894.1186.JPG',
    '6894.1336.JPG',
    '6898.JPG',
    '6901.19.598.zle.JPG',
    '6907.1418.1339.JPG',
    '6912.1336.JPG',
    '6912.272.JPG',
    '6915.1218.JPG',
    '6915.1218.JPG',
    '6915.1240.JPG',
    '6915.1413.JPG',
    '6915.272.JPG',
    '6915.500.JPG',
    '6918.1442.JPG',
    '6937.1474.19.JPG',
    '6937.1480.1476.JPG',
    '6937.272.19.1465.JPG',
    '6937.39.19.650.JPG',
    '6937.404.19.JPG',
    '6959.39.19.JPG',
    '6989.1465.19.JPG',
    '6989.1479.1476.JPG',
    '6989.272.1475.JPG',
    '6992.19.JPG',
    '6995.1256.JPG',
    '6995.1446.JPG',
    '6995.1482.JPG',
    '6995.1483.JPG',
    '6995.19.JPG',
    '6995.272.JPG',
    '7008.1248.JPG',
    '7008.1462.JPG',
    '7008.1468.JPG',
    '7008.1469.272.JPG',
    '7018.39.JPG',
    '7018.500.JPG',
    '7024.39.JPG',
    '7052.19.JPG',
    '7085.272.JPG',
    '7173.1452.JPG',
    '7201.39.19.1465.JPG',
    '7201.500.380.7480.JPG',
    '7220. (2).JPG',
    '7220. (3).JPG',
    '7220.JPG'
];
document.addEventListener("DOMContentLoaded", function () {
    var app = new Vue({
        el: '#vue-container',
        data: {
            currentYear: new Date().getFullYear(),
            languagesAvailable: ['pl', 'en'],
            language: 'pl',
            aboutUs: ['O nas', 'About us'],
            offer: ['Oferta', 'Offer'],
            collectionName: ["Nasze kolekcje", "The collections"],
            collections: {
                autumnWinter2019: ["Jesień Zima", "Autumn Winter"],
                springSummer2018: ["Wiosna Lato", "Spring Summer"]
            },
            pageNumber: 1,
            storeOutlet: ['Sklep Outlet', 'Outlet Store'],
            address: ['Informacje kontakowe', 'Contact Info'],
            cooperation: [`Naszymi głównymi odbiorcami są hurtownie, sieci handlowe oraz uznane na świecie marki obuwnicze.
                        Jesteśmy w stanie przygotować obuwie dopasowane do wymagań oraz porzeb naszych klientów.
                        Jesteśmy otwarci na nowe wyzwania oraz proponujemy atrakcyjne warunki współpracy.`,
                `Our main customers are wholesalers, retail chains and internationally recognized footwear brands. We are able to prepare footwear tailored to 
                the requirements and needs of our customers. We are open to new challenges and we offer attractive terms of cooperation.`,  "Cooperation","Współpraca",
            ],
            history: [`Początki Firmy "AGA" zaczynają się w 1994 roku, gdzie zaczyna się projektowanie oraz produckaj
                        najwyższej jakości obuwia
                        damskiego z wysokogatunkowych skór. Używamy najwyższej jakości komponentów z całej Europy między
                        innymi pochodzenia Polskiego, Tureckiego, Hiszpańskiego oraz Włoskiego.
                        Nasze obuwie cechuje komfort użytkowania, zróżnicowane wzornictwo ale przede wszystkim wysoka
                        jakość wykonania.`,
                `The Origin of "AGA" begins in 1994, where design and production begin top quality footwear
                women's high-quality leathers. We use the highest quality components from all over Europe between
                other Polish, Turkish, Spanish and Italian origin.
                Our footwear is characterized by comfort of use, diverse designs but above all high
                production quality.`,  "History", "Historia"
            ],
            design: [`Solidne wykonanie oraz przystępna cena produktów, pozwoliły zdobyć naszej marce
            uznanie konsumentów na rynku Polskim oraz Europejskim (Węgry, Czechy, Słowacja, Rosja,
            Litwa, Ukraina, Niemcy, Holandia.)`, `Solid workmanship and affordable price of products have allowed us to win our brand
            recognition of consumers on the Polish and European market (Hungary, Czech Republic, Slovakia, Russia,
            Lithuania, Ukraine, Germany, the Netherlands.)`,
                "Design", "Design"
            ],
            contact: ['Kontakt', 'Contact'],
            message: 'Hello Vue!'
        },
        created() {
            language = 'pl';
        },
        methods: {
            translate: function (word) {
                if (this.language === 'pl') {
                    return word[0];
                } else if (this.language === 'en') {
                    return word[1];
                }
            },
            translateByIndex: function (word, index) {
                return word[index];
            }
        }
    });
    var storeOutlet = $('#store-outlet');
    AOS.init();
    navigation();
    var gallery = $('.gallery');
    var arrows = $('.arrows');
    galleryArrows = $('.arrows');
    var galleryArrowRight = galleryArrows.find('.fa-arrow-right');
    var springSummerBtn = $('#springSummerBtn');
    var autumnWinterBtn = $('#autumnWinterBtn');
    var springSummerText = $('.springSummerText');
    var autumnWinterText = $('.autumnWinterText');
    var galleryArrowLeft = galleryArrows.find('.fa-arrow-left');
    var summerCollectionSize = 21;
    var winterCollectionSize = 11;
    init();

    function initMap() {
        // The location of Uluru
        var uluru = {
            lat: -25.344,
            lng: 131.036
        };
        // The map, centered at Uluru
        var map = new google.maps.Map(
            document.getElementById('map'), {
                zoom: 4,
                center: uluru
            });
        // The marker, positioned at Uluru
        var marker = new google.maps.Marker({
            position: uluru,
            map: map
        });
    }

    function navigation() {
        $("#about-us-nav").click(function () {
            $([document.documentElement, document.body]).animate({
                scrollTop: $("#about-us").offset().top
            }, 2000);
        });
        $("#offer-nav").click(function () {
            $([document.documentElement, document.body]).animate({
                scrollTop: storeOutlet.offset().top
            }, 2000);
        });
        $("#contact-nav").click(function () {
            $([document.documentElement, document.body]).animate({
                scrollTop: $("#contact").offset().top
            }, 2000);
        });
    }

    function init() {
        if (!localStorage.getItem("currentGalleryCollection")) {
            localStorage.setItem("currentGalleryCollection", "summer")
        }
        if (!localStorage.getItem("pageNumber")) {
            localStorage.setItem("pageNumber", 1)
        }

        if (localStorage.getItem("currentGalleryCollection") === "summer") {
            setSummerActiveCollection();
        } else {
            setWinterActiveCollection();
        }
        var currentArray = localStorage.getItem("currentGalleryCollection") === "summer" ? summerCollectionImagesNames : winterCollectionImagesNames;
        changeGallery(currentArray, 1);
        hideNotActiveCollectionText(localStorage.getItem('currentGalleryCollection'));        
    }

    function getGalleryImageNames(array, page_number) {
        var page_size = 6;
        localStorage.setItem("pageNumber", page_number)
        return array.slice(page_number * page_size, (page_number + 1) * page_size);
    };

    function changeGallery(array, page_number) {
        var galleryImages = getGalleryImageNames(array, page_number);
        localStorage.setItem("pageNumber", page_number);
        app.pageNumber = page_number;
        var currentGalleryCollection = localStorage.getItem('currentGalleryCollection') === "summer" ? "wiosna lato 2018" : "jesień zima 2019";

        var i = 0;
        $.blockUI();
        gallery.find('.gallery-image-wrapper').each(function () {
            var $this = $(this).find('img')
            $this.fadeOut(10);
            $this.attr('src', "../images/" + currentGalleryCollection + "/" + galleryImages[i] );
            
            $this.fadeIn(500);
            if (galleryImages[i]) {
                var currentImgName = galleryImages[i].replace('.JPG', '');
                $this.parent().find('h4').text(currentImgName);
            } else {
                $this.parent().find('h4').text('');
            }

            i++;

        });
        $.unblockUI();
        i = 0;
    };
    
    galleryArrowRight.on('click', function (evt) {
        var pageNumber = localStorage.getItem("pageNumber");
        var isSummerGalleryCollection = localStorage.getItem("currentGalleryCollection") === "summer";
        var currentShoesCollection = isSummerGalleryCollection ? summerCollectionImagesNames : winterCollectionImagesNames;
        var pageLimitNumber = !isSummerGalleryCollection ? summerCollectionSize : winterCollectionSize;

        pageNumber++;
        if (pageNumber > pageLimitNumber) {
            pageNumber = 1;
        }
        changeGallery(currentShoesCollection, pageNumber);
    });

    galleryArrowLeft.on('click', function (evt) {
        var pageNumber = localStorage.getItem("pageNumber");
        var isSummerGalleryCollection = localStorage.getItem("currentGalleryCollection") === "summer";

        var currentShoesCollection = isSummerGalleryCollection ? summerCollectionImagesNames : winterCollectionImagesNames;;
        var pageLimitNumber = !isSummerGalleryCollection ? summerCollectionSize : winterCollectionSize;
        pageNumber--;
        if (pageNumber < 1) {
            pageNumber = pageLimitNumber;
        }
        changeGallery(currentShoesCollection, pageNumber);
    });

    springSummerBtn.on('click', function (evt) {
        setSummerActiveCollection();
        console.log($(this).attr('id'));
        localStorage.setItem('currentGalleryCollection', 'summer');
        changeGallery(summerCollectionImagesNames, 1);
        hideNotActiveCollectionText(localStorage.getItem('currentGalleryCollection'));        
    });

    autumnWinterBtn.on('click', function (evt) {
        setWinterActiveCollection();

        localStorage.setItem('currentGalleryCollection', 'winter');
        changeGallery(winterCollectionImagesNames, 1);
        hideNotActiveCollectionText(localStorage.getItem('currentGalleryCollection'));        
    });
    gallery.find('.gallery-image-wrapper').each(function () {
        $(this).on('click', function () {
            var imgSrc = $(this).find('img').attr('src');
            console.log(imgSrc);
            $('#gallery').append(`   <div class="lightbox">
            <div class="gallery-image-wrapper">
            <i class="fa fa-times closeLightbox" aria-hidden="true"></i>
                <img class="item" src="${imgSrc}" alt="">
            </div>
        </div>`);
            $('#store-outlet > div.section-body.arrows > i.fas.fa-arrow-left, #store-outlet > div.section-body.arrows > i.fas.fa-arrow-right').css('opacity',0);
        });
        console.log($(this));

        $(document).on('click', '.closeLightbox',function () {
            $('.lightbox').remove();
            $('#store-outlet > div.section-body.arrows > i.fas.fa-arrow-left, #store-outlet > div.section-body.arrows > i.fas.fa-arrow-right').css('opacity',1);
            
        });
        var lightbox = $('.lightbox');
        lightbox.css('opacity')
    });

    function hideNotActiveCollectionText(collectionType) {
        if (collectionType === "summer") {
            springSummerText.css('opacity', 1);
            autumnWinterText.css('opacity', 0);
        } else {
            autumnWinterText.css('opacity', 1);
            springSummerText.css('opacity', 0);
        }
    }

    function setSummerActiveCollection() {
        springSummerBtn.find('h2').addClass('season-active');
        autumnWinterBtn.find('h2').removeClass('season-active');
    }

    function setWinterActiveCollection() {
        autumnWinterBtn.find('h2').addClass('season-active');
        springSummerBtn.find('h2').removeClass('season-active');
    }


});